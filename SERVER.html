<button id="start-recording">Start Recording</button>
<button id="stop-recording">Stop Recording</button>
<button id="send-to-server">Send to Server</button>

<script>
// Create an instance of the MediaRecorder object
var mediaRecorder;

// Start recording when the "start-recording" button is clicked
document.getElementById("start-recording").addEventListener("click", function() {
  // Check if the browser supports the MediaRecorder API
  if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {
    navigator.mediaDevices.getUserMedia({ audio: true }).then(function(stream) {
      mediaRecorder = new MediaRecorder(stream);
      mediaRecorder.start();
    });
  }
});

// Stop recording when the "stop-recording" button is clicked
document.getElementById("stop-recording").addEventListener("click", function() {
  mediaRecorder.stop();
});

// Send the recorded audio to the server when the "send-to-server" button is clicked
document.getElementById("send-to-server").addEventListener("click", function() {
  // Create a new instance of the XMLHttpRequest object
  var xhr = new XMLHttpRequest();
  xhr.open("POST", "https://your-server-url/upload", true);
  xhr.setRequestHeader("Content-Type", "audio/webm");

  mediaRecorder.onstop = function(e) {
    // Get the recorded audio data as a Blob
    var audioBlob = new Blob(mediaRecorder.getAudioTracks());

    // Send the recorded audio data to the server
    xhr.send(audioBlob);
  }
});
</script>